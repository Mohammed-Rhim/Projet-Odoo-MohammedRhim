<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- Catégories de démonstration -->
        <record id="category_hardware" model="incident.category">
            <field name="name">Matériel</field>
            <field name="description">Problèmes liés au matériel informatique</field>
        </record>

        <record id="category_software" model="incident.category">
            <field name="name">Logiciel</field>
            <field name="description">Problèmes liés aux applications et logiciels</field>
        </record>

        <record id="category_network" model="incident.category">
            <field name="name">Réseau</field>
            <field name="description">Problèmes de connexion et réseau</field>
        </record>

        <record id="category_security" model="incident.category">
            <field name="name">Sécurité</field>
            <field name="description">Incidents de sécurité et accès</field>
        </record>

        <record id="category_email" model="incident.category">
            <field name="name">Email</field>
            <field name="description">Problèmes liés aux emails</field>
        </record>

        <!-- Équipes de démonstration -->
        <record id="team_infrastructure" model="incident.team">
            <field name="name">Équipe Infrastructure</field>
            <field name="description">Gestion du matériel et du réseau</field>
            <field name="team_leader_id" ref="base.user_admin"/>
            <field name="member_ids" eval="[(6, 0, [ref('base.user_admin'), ref('base.user_demo')])]"/>
            <field name="category_ids" eval="[(6, 0, [ref('category_hardware'), ref('category_network')])]"/>
            <field name="color">3</field>
        </record>

        <record id="team_applications" model="incident.team">
            <field name="name">Équipe Applications</field>
            <field name="description">Support des applications métier</field>
            <field name="team_leader_id" ref="base.user_demo"/>
            <field name="member_ids" eval="[(6, 0, [ref('base.user_demo')])]"/>
            <field name="category_ids" eval="[(6, 0, [ref('category_software'), ref('category_email')])]"/>
            <field name="color">5</field>
        </record>

        <record id="team_security" model="incident.team">
            <field name="name">Équipe Sécurité</field>
            <field name="description">Gestion de la sécurité informatique</field>
            <field name="team_leader_id" ref="base.user_admin"/>
            <field name="member_ids" eval="[(6, 0, [ref('base.user_admin')])]"/>
            <field name="category_ids" eval="[(6, 0, [ref('category_security')])]"/>
            <field name="color">1</field>
        </record>

        <!-- Tags pour la base de connaissances -->
        <record id="tag_windows" model="incident.knowledge.tag">
            <field name="name">Windows</field>
            <field name="color">1</field>
        </record>

        <record id="tag_linux" model="incident.knowledge.tag">
            <field name="name">Linux</field>
            <field name="color">3</field>
        </record>

        <record id="tag_reseau" model="incident.knowledge.tag">
            <field name="name">Réseau</field>
            <field name="color">5</field>
        </record>

        <record id="tag_imprimante" model="incident.knowledge.tag">
            <field name="name">Imprimante</field>
            <field name="color">7</field>
        </record>

        <!-- Articles de base de connaissances -->
        <record id="kb_article_1" model="incident.knowledge">
            <field name="name">Résoudre les problèmes de connexion WiFi</field>
            <field name="content"><![CDATA[
                <h3>Problème de connexion WiFi</h3>
                <p><strong>Symptômes :</strong> Impossible de se connecter au réseau WiFi de l'entreprise</p>
                
                <h4>Solutions :</h4>
                <ol>
                    <li>Vérifier que le WiFi est activé sur l'ordinateur</li>
                    <li>Redémarrer l'adaptateur réseau</li>
                    <li>Oublier le réseau et se reconnecter</li>
                    <li>Vérifier les paramètres proxy</li>
                    <li>Contacter l'équipe infrastructure si le problème persiste</li>
                </ol>
                
                <p><strong>Temps de résolution moyen :</strong> 15 minutes</p>
            ]]></field>
            <field name="state">published</field>
            <field name="category_ids" eval="[(6, 0, [ref('category_network')])]"/>
            <field name="tag_ids" eval="[(6, 0, [ref('tag_reseau')])]"/>
            <field name="author_id" ref="base.user_admin"/>
            <field name="view_count">45</field>
            <field name="helpful_count">32</field>
            <field name="sequence">1</field>
        </record>

        <record id="kb_article_2" model="incident.knowledge">
            <field name="name">Réinitialiser le mot de passe Outlook</field>
            <field name="content"><![CDATA[
                <h3>Réinitialisation mot de passe Outlook</h3>
                <p><strong>Procédure :</strong></p>
                
                <ol>
                    <li>Accéder au portail de réinitialisation : <code>https://password.company.com</code></li>
                    <li>Entrer votre adresse email professionnelle</li>
                    <li>Suivre les instructions envoyées par SMS</li>
                    <li>Créer un nouveau mot de passe (min. 12 caractères)</li>
                    <li>Redémarrer Outlook</li>
                </ol>
                
                <p><strong>Note :</strong> Le nouveau mot de passe sera actif dans 5 minutes</p>
            ]]></field>
            <field name="state">published</field>
            <field name="category_ids" eval="[(6, 0, [ref('category_email')])]"/>
            <field name="author_id" ref="base.user_demo"/>
            <field name="view_count">78</field>
            <field name="helpful_count">65</field>
            <field name="sequence">2</field>
        </record>

        <record id="kb_article_3" model="incident.knowledge">
            <field name="name">Installer une imprimante réseau</field>
            <field name="content"><![CDATA[
                <h3>Installation imprimante réseau</h3>
                
                <h4>Étapes :</h4>
                <ol>
                    <li>Ouvrir <strong>Paramètres → Périphériques → Imprimantes</strong></li>
                    <li>Cliquer sur "Ajouter une imprimante"</li>
                    <li>Sélectionner "Ajouter une imprimante réseau"</li>
                    <li>Choisir l'imprimante dans la liste</li>
                    <li>Installer les pilotes si demandé</li>
                </ol>
                
                <p><strong>Imprimantes disponibles :</strong></p>
                <ul>
                    <li>HP-RDC-01 (Rez-de-chaussée)</li>
                    <li>HP-ETG1-01 (1er étage)</li>
                    <li>CANON-ETG2-01 (2ème étage)</li>
                </ul>
            ]]></field>
            <field name="state">published</field>
            <field name="category_ids" eval="[(6, 0, [ref('category_hardware')])]"/>
            <field name="tag_ids" eval="[(6, 0, [ref('tag_windows'), ref('tag_imprimante')])]"/>
            <field name="author_id" ref="base.user_admin"/>
            <field name="view_count">56</field>
            <field name="helpful_count">48</field>
            <field name="sequence">3</field>
        </record>

        <!-- Incidents de démonstration -->
        <record id="incident_demo_1" model="incident.management">
            <field name="title">Écran noir au démarrage - PC Bureau 245</field>
            <field name="description">L'ordinateur du bureau 245 affiche un écran noir au démarrage. Le voyant d'alimentation est allumé mais rien ne s'affiche à l'écran.</field>
            <field name="category_id" ref="category_hardware"/>
            <field name="priority">3</field>
            <field name="state">progress</field>
            <field name="team_id" ref="team_infrastructure"/>
            <field name="user_id" ref="base.user_admin"/>
            <field name="partner_id" ref="base.partner_demo"/>
        </record>

        <record id="incident_demo_2" model="incident.management">
            <field name="title">Impossible d'accéder aux emails</field>
            <field name="description">Depuis ce matin, impossible de se connecter à Outlook. Message d'erreur : "Vos identifiants sont incorrects".</field>
            <field name="category_id" ref="category_email"/>
            <field name="priority">2</field>
            <field name="state">done</field>
            <field name="team_id" ref="team_applications"/>
            <field name="user_id" ref="base.user_demo"/>
            <field name="partner_id" ref="base.partner_demo"/>
            <field name="solution"><![CDATA[
                <p>Le mot de passe de l'utilisateur avait expiré.</p>
                <p><strong>Solution appliquée :</strong></p>
                <ul>
                    <li>Réinitialisation du mot de passe via le portail</li>
                    <li>Reconfiguration d'Outlook</li>
                    <li>Test de connexion réussi</li>
                </ul>
            ]]></field>
            <field name="knowledge_article_ids" eval="[(6, 0, [ref('kb_article_2')])]"/>
            <field name="customer_rating">5</field>
            <field name="customer_feedback">Problème résolu rapidement, merci !</field>
        </record>

        <record id="incident_demo_3" model="incident.management">
            <field name="title">Lenteur réseau - Bâtiment A</field>
            <field name="description">Tous les utilisateurs du bâtiment A signalent une connexion internet très lente depuis 2 jours.</field>
            <field name="category_id" ref="category_network"/>
            <field name="priority">2</field>
            <field name="state">progress</field>
            <field name="team_id" ref="team_infrastructure"/>
            <field name="user_id" ref="base.user_admin"/>
            <field name="partner_id" ref="base.partner_admin"/>
        </record>

        <record id="incident_demo_4" model="incident.management">
            <field name="title">Imprimante hors ligne - Salle 302</field>
            <field name="description">L'imprimante de la salle 302 n'apparaît plus dans la liste des imprimantes disponibles.</field>
            <field name="category_id" ref="category_hardware"/>
            <field name="priority">1</field>
            <field name="state">pending</field>
            <field name="team_id" ref="team_infrastructure"/>
            <field name="user_id" ref="base.user_demo"/>
            <field name="partner_id" ref="base.partner_demo"/>
        </record>

        <record id="incident_demo_5" model="incident.management">
            <field name="title">Tentative d'accès non autorisé détectée</field>
            <field name="description">Le système de sécurité a détecté plusieurs tentatives de connexion échouées sur le compte administrateur.</field>
            <field name="category_id" ref="category_security"/>
            <field name="priority">3</field>
            <field name="state">new</field>
            <field name="team_id" ref="team_security"/>
            <field name="user_id" ref="base.user_admin"/>
            <field name="partner_id" ref="base.partner_admin"/>
        </record>

        <record id="incident_demo_6" model="incident.management">
            <field name="title">Logiciel de comptabilité ne démarre pas</field>
            <field name="description">Le logiciel de comptabilité affiche une erreur au démarrage : "Erreur de licence".</field>
            <field name="category_id" ref="category_software"/>
            <field name="priority">2</field>
            <field name="state">done</field>
            <field name="team_id" ref="team_applications"/>
            <field name="user_id" ref="base.user_demo"/>
            <field name="partner_id" ref="base.partner_demo"/>
            <field name="solution"><![CDATA[
                <p>La licence du logiciel avait expiré.</p>
                <p><strong>Actions effectuées :</strong></p>
                <ol>
                    <li>Renouvellement de la licence</li>
                    <li>Mise à jour du logiciel vers la dernière version</li>
                    <li>Vérification du bon fonctionnement</li>
                </ol>
            ]]></field>
            <field name="customer_rating">4</field>
            <field name="customer_feedback">Résolution efficace</field>
        </record>

        <record id="incident_demo_7" model="incident.management">
            <field name="title">Connexion WiFi instable</field>
            <field name="description">La connexion WiFi se déconnecte régulièrement toutes les 10-15 minutes.</field>
            <field name="category_id" ref="category_network"/>
            <field name="priority">1</field>
            <field name="state">done</field>
            <field name="team_id" ref="team_infrastructure"/>
            <field name="user_id" ref="base.user_admin"/>
            <field name="partner_id" ref="base.partner_demo"/>
            <field name="solution"><![CDATA[
                <p>Problème lié à l'adaptateur WiFi du PC.</p>
                <p><strong>Solution :</strong> Mise à jour du pilote de l'adaptateur réseau</p>
            ]]></field>
            <field name="knowledge_article_ids" eval="[(6, 0, [ref('kb_article_1')])]"/>
            <field name="customer_rating">5</field>
            <field name="customer_feedback">Parfait, plus de déconnexions !</field>
        </record>

        <record id="incident_demo_8" model="incident.management">
            <field name="title">Demande d'installation logiciel AutoCAD</field>
            <field name="description">Besoin d'installer AutoCAD 2024 pour le nouveau designer.</field>
            <field name="category_id" ref="category_software"/>
            <field name="priority">1</field>
            <field name="state">new</field>
            <field name="team_id" ref="team_applications"/>
            <field name="partner_id" ref="base.partner_demo"/>
        </record>

        <record id="incident_demo_9" model="incident.management">
            <field name="title">Écran bleu (BSOD) fréquent</field>
            <field name="description">L'ordinateur affiche un écran bleu (BSOD) plusieurs fois par jour avec le code d'erreur MEMORY_MANAGEMENT.</field>
            <field name="category_id" ref="category_hardware"/>
            <field name="priority">2</field>
            <field name="state">progress</field>
            <field name="team_id" ref="team_infrastructure"/>
            <field name="user_id" ref="base.user_admin"/>
            <field name="partner_id" ref="base.partner_admin"/>
        </record>

        <record id="incident_demo_10" model="incident.management">
            <field name="title">Accès VPN ne fonctionne pas</field>
            <field name="description">Impossible de se connecter au VPN de l'entreprise depuis le domicile.</field>
            <field name="category_id" ref="category_network"/>
            <field name="priority">2</field>
            <field name="state">closed</field>
            <field name="team_id" ref="team_infrastructure"/>
            <field name="user_id" ref="base.user_demo"/>
            <field name="partner_id" ref="base.partner_demo"/>
            <field name="solution"><![CDATA[
                <p>Configuration VPN incorrecte.</p>
                <p><strong>Solution :</strong></p>
                <ul>
                    <li>Reconfiguration du client VPN</li>
                    <li>Mise à jour des certificats</li>
                    <li>Test de connexion réussi</li>
                </ul>
            ]]></field>
            <field name="customer_rating">5</field>
        </record>
    </data>
</odoo>
